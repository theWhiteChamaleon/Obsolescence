"use strict";(self.webpackChunkreact_widget_template=self.webpackChunkreact_widget_template||[]).push([[999],{1358:(e,o,t)=>{t.d(o,{A:()=>l});t(5043);var s=t(8012),n=(t(4119),t(3637)),r=t(1397),a=t(4675),i=t(579);const l=()=>{const{handleDrop:e}=(0,s.A)(),{performSearch:o}=(0,a.A)();return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"droppable-container mt-4",children:[(0,i.jsx)(n.A,{style:{width:"90px",height:"90px"},src:"https://thewhitechamaleon.github.io/testrapp/images/drag.png",alt:"Data Collect",className:"search-icon"}),(0,i.jsx)("span",{className:"drag-and-drop-text",children:"Drag and Drop"}),(0,i.jsxs)("div",{className:"divider-container",children:[(0,i.jsx)("hr",{className:"divider"}),(0,i.jsx)("span",{className:"divider-text",children:"or"}),(0,i.jsx)("hr",{className:"divider"})]}),(0,i.jsx)(r.A,{onSearch:t=>{o(t,{title:"Search",role:"",mode:"furtive",default_with_precond:!0,precond:'flattenedtaxonomies:"types/VPMReference" OR flattenedtaxonomies:"types/Raw_Material" OR flattenedtaxonomies:"types/Document"',show_precond:!1,multiSel:!1,idcard_activated:!1,select_result_max_idcard:!1,itemViewClickHandler:"",search_delegation:"3dsearch"},(o=>{o&&o.length>0&&o[0].id?e([{objectId:o[0].id,objectType:o[0]["ds6w:type_value"]}]):console.warn("No objectId found in selected objects")}))}})]})})}},5362:(e,o,t)=>{t.d(o,{A:()=>d});var s=t(5043),n=t(8931),r=t(7111),a=t(3277),i=t(2725),l=t(579);const d=(0,s.forwardRef)(((e,o)=>{let{data:t,columns:d,addedItem:c,CAName:p,state:m}=e;const{showWarningToast:u}=(0,i.A)(),[g,R]=(0,s.useState)({});(0,s.useEffect)((()=>{R({})}),[t]);const v=()=>{const e=h.getSelectedRowModel().rows.map((e=>e.original["Available Plant"]));0!==e.length?(c(e),R({})):u(a.e1)};(0,s.useImperativeHandle)(o,(()=>({addPlant:v})));const C=(0,s.useMemo)((()=>[{id:"select",cell:e=>{let{row:o}=e;return(0,l.jsx)("input",{type:"checkbox",className:"form-check-input",checked:o.getIsSelected(),onChange:o.getToggleSelectedHandler()})}},...d]),[d]),h=(0,n.N4)({data:t,columns:C,state:{rowSelection:g},enableRowSelection:!0,onRowSelectionChange:R,getCoreRowModel:(0,r.HT)()});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{type:"button",className:"btn btn-outline-primary me-3",onClick:()=>{h.getRowModel().rows.forEach((e=>e.toggleSelected(!0)))},children:"Select All"}),(0,l.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{h.getRowModel().rows.forEach((e=>e.toggleSelected(!1)))},children:"Deselect All"})]}),h.getRowModel().rows.length>0?(0,l.jsx)("div",{className:"overflow-auto",style:{maxHeight:"60vh"},children:h.getRowModel().rows.map((e=>(0,l.jsxs)("div",{className:"p-3 border-bottom d-flex align-items-center",style:{backgroundColor:e.getIsSelected()?"#d5e8f2":"inherit"},children:[(0,l.jsx)("div",{className:"me-3",children:(0,n.Kv)(e.getVisibleCells()[0].column.columnDef.cell,e.getVisibleCells()[0].getContext())}),(0,l.jsx)("div",{children:e.original[d[0].accessorKey]})]},e.id)))}):(0,l.jsx)("p",{className:"text-muted p-3",children:"No data available"})]})}))},6122:(e,o,t)=>{t.r(o),t.d(o,{default:()=>I});var s=t(5043),n=t(4391),r=(t(2342),t(9555),t(3003)),a=t(2670),i=t(2115),l=(t(8421),t(4050),t(9959),t(9379)),d=t(1358),c=t(3637),p=t(6713),m=t(768),u=t(759),g=t(5645),R=t(2725),v=t(3277),C=t(2268),h=t(6047);const E=()=>{const{showErrorToast:e}=(0,R.A)(),o=(0,r.wA)(),t="https://oi000186152-us1-space.3dexperience.3ds.com/enovia";let s=window.widget.getValue("email");console.log("Email in useObsolescenceWidget:",s);return{handleObsolescenceWidget:async(s,n,r,a,i,d)=>{try{console.log("Object id is:",r),console.log("Object type is:",a),o((0,g.Ve)(!0));const E=await(0,C.I)();if(!E)return void e(v.rK);console.log("[useObsolescenceWidget] CSRF Headers:",E);let S="".concat(t,"/resources/v1/modeler/documents/parentId/").concat(r,"?parentRelName=SpecificationDocument"),_="Document"===a?"to":"from",P="".concat(S,"&parentDirection=").concat(_),A=await(0,h.ui)("GET",P,"",E);if(console.log("SpecDetails Response:",A),A&&A.status&&A.output.data.length>0){var c,p,m,u;let O,f,b=A.output.data.map((e=>({id:e.id,title:e.dataelements.title&&""!==e.dataelements.title.trim()?e.dataelements.title:e.dataelements.secondaryTitle,revision:e.dataelements.revision,state:e.dataelements.stateNLS,name:e.dataelements.name})));if(console.log("[useObsolescenceWidget] Extracted Spec Documents:",b),"Document"===a){const I={data:[]};b.forEach((e=>{const o={id:e.id,identifier:e.id,type:"VPMReference",source:"".concat(t),relativePath:"/resources/v1/modeler/dseng/dseng:EngItem/".concat(e.id)};I.data.push(o)}));const T="".concat(t,"/resources/v1/modeler/dslc/version/getGraph"),L=await(0,h.ui)("POST",T,I,E);function N(e){if(/^\d+$/.test(e))return parseInt(e,10);let o=0;for(let t=0;t<e.length;t++)o=26*o+(e.charCodeAt(t)-"A".charCodeAt(0)+1);return o}console.log("response is:",L),L.output.results.forEach((e=>{const o=e.versions.reduce(((e,o)=>N(o.revision)>N(e.revision)?o:e));b=b.map((t=>e.versions.some((e=>e.id===t.id))?(0,l.A)((0,l.A)({},t),{},{isLatestRevision:t.id===o.id?"TRUE":"FALSE"}):t))})),console.log("ChildObjectDocument is:",b)}"Document"===a?(f="https://saasimplementationserverdev.azurewebsites.net/bosAttribute/getLatestSpecItemDetails",O={SpecName:i,SpecRevision:d,Items:b.map((e=>({ItemName:e.name,ItemRevision:e.revision})))}):(f="https://saasimplementationserverdev.azurewebsites.net/bosAttribute/getLatestItemSpecDetails",O={ItemName:i,ItemRevision:d,Specifications:b.map((e=>({SpecName:e.name,SpecRevision:e.revision})))}),console.log("Requested Body is:",O);const D=await(0,h.Fd)("POST",f,O);console.log("the response from node API is:",D);let w=[];null!==D&&void 0!==D&&null!==(c=D.data)&&void 0!==c&&null!==(p=c.data)&&void 0!==p&&p.Specifications?D.data.data.Specifications.forEach((e=>{let o=b.find((o=>o.name===e.SpecName&&o.revision===e.SpecRevision));w.push({childState:(null===o||void 0===o?void 0:o.state)||"",childTitle:(null===o||void 0===o?void 0:o.title)||"",childLatest:(null===o||void 0===o?void 0:o.isLatestRevision)||"FALSE",childName:e.SpecName,childRevision:e.SpecRevision,PrintOnPurchaseOrderRequired:e.PrintOnPurchaseOrderRequired,PrintOnWorkOrderRequired:e.PrintOnWorkOrderRequired,WorkOrderDocumentRequired:e.WorkOrderDocumentRequired,PrintOnReportOrderRequired:e.PrintOnReportOrderRequired,"SAP/JDE":e["SAP/JDE"]})})):null!==D&&void 0!==D&&null!==(m=D.data)&&void 0!==m&&null!==(u=m.data)&&void 0!==u&&u.Items?D.data.data.Items.forEach((e=>{let o=b.find((o=>o.name===e.ItemName&&o.revision===e.ItemRevision));w.push({childState:(null===o||void 0===o?void 0:o.state)||"",childTitle:(null===o||void 0===o?void 0:o.title)||"",childName:e.ItemName,childRevision:e.ItemRevision,childLatest:(null===o||void 0===o?void 0:o.isLatestRevision)||"FALSE",PrintOnPurchaseOrderRequired:e.PrintOnPurchaseOrderRequired,PrintOnWorkOrderRequired:e.PrintOnWorkOrderRequired,WorkOrderDocumentRequired:e.WorkOrderDocumentRequired,PrintOnReportOrderRequired:e.PrintOnReportOrderRequired,"SAP/JDE":e["SAP/JDE"]})})):console.warn("[useObsolescenceWidget] Unexpected API response format."),console.log("[useObsolescenceWidget] Final Merged Data for Dispatch:",w),o((0,g.Xv)(w))}else console.warn("[useObsolescenceWidget] No connected childs."),o((0,g.Xv)([]))}catch(R){throw console.error("[useObsolescenceWidget] Error:",R),R}finally{o((0,g.Ve)(!1))}}}};var S=t(314);const _=()=>{const{showErrorToast:e}=(0,R.A)(),{handleObsolescenceWidget:o}=E(),t=(0,r.d4)((e=>e.droppedObject.isDropped)),n=(0,r.d4)((e=>e.droppedObject.loading)),a=(0,r.wA)(),i=["VPMReference","Engg Item","Physical Product","Change Action"],l=(0,s.useCallback)((async t=>{try{const r=await(0,S.Sj)({dataItems:t});if(r.success){var s,n;const l=r.data.cardData;console.log("[Dragged Items are]",l);const d=null===l||void 0===l?void 0:l.Type;if(!i.includes(d))return e("Please select a CA or Engg Item."),void a((0,g.r1)(!1));if("Released"!==(null===l||void 0===l?void 0:l["Maturity State"]))return e("Product is not released."),void a((0,g.r1)(!1));a((0,g.um)({cardData:l})),a((0,g.Rr)(!0)),await o(l["Collaborative Space"],l["Maturity State"],null===(s=t[0])||void 0===s?void 0:s.objectId,null===(n=t[0])||void 0===n?void 0:n.objectType,l.Name,l["Dropped Revision"])}else e(v.wX)}catch(r){console.error("[FetchObjectDetails] Error fetching details:",r),e(v.wX)}finally{a((0,g.r1)(!1))}}),[a,o,e]),d=(0,s.useCallback)((async o=>{a((0,g.r1)(!0)),console.log("[handleDrop] handleDrop called with dataItems:",o);try{o&&o.length>0?await l(o):console.warn("[handleDrop] No data items to process.")}catch(t){a((0,g.r1)(!1)),console.error("[Drop] Error in handleDrop:",t),e(v.nz)}}),[l,e,a]);return{initializeDroppableArea:(0,s.useCallback)((()=>{t?console.log("[initializeDroppableArea] \u23f3 isDropped is already true. Skipping reset."):(console.log("[initializeDroppableArea] \ud83d\ude80 Resetting isDropped to false..."),a((0,g.Rr)(!1)));const o=setInterval((()=>{const t=document.querySelector(".droppable-container");t&&(clearInterval(o),(0,S.pn)(t,d,a,e))}),100);return()=>clearInterval(o)}),[d,a,t,e]),loading:n,handleDrop:d}};t(5362);var P=t(579);const A=e=>{let{editableColumns:o,selectedRows:t,onApplyUpdate:n,valueOptions:r,onClose:a}=e;const[i,l]=(0,s.useState)(""),[d,c]=(0,s.useState)(""),p=e=>{i&&d?(n(i,d,e?"all":"selected"),a()):alert("Please select a column and a value.")};return(0,P.jsxs)("div",{className:"dropdown-menu p-3 ",style:{width:"300px",display:"block"},children:[(0,P.jsx)("label",{children:"Select Column:"}),(0,P.jsxs)("select",{className:"form-select mb-2",onChange:e=>l(e.target.value),value:i,children:[(0,P.jsx)("option",{value:"",children:"-- Select Column --"}),o.map((e=>(0,P.jsx)("option",{value:e,children:e},e)))]}),(0,P.jsx)("label",{children:"Select Value:"}),(0,P.jsxs)("select",{className:"form-select mb-2",value:d,onChange:e=>c(e.target.value),disabled:!i,children:[(0,P.jsx)("option",{value:"",children:"-- Select Value --"}),r.map((e=>(0,P.jsx)("option",{value:e,children:e},e)))]}),(0,P.jsx)("button",{className:"btn btn-outline-success me-2 mb-2",onClick:()=>p(!1),disabled:!t.length,style:{cursor:t.length?"pointer":"not-allowed"},children:"Apply to Selected"}),(0,P.jsx)("button",{className:"btn btn-outline-primary me-2 mb-2",onClick:()=>p(!0),children:"Apply to All"}),(0,P.jsx)("button",{className:"btn btn-outline-danger me-2 mb-2",onClick:a,children:"Close"})]})},O=e=>{let{onSave:o,state:t,selectedRows:n,tableData:r,onMassUpdate:a,type:i,latestRevision:l,droppedRevision:d}=e;const{showWarningToast:c}=(0,R.A)(),[p,m]=(0,s.useState)(!1);return(0,P.jsxs)("div",{className:"d-flex flex-column cta-absolute",children:[(0,P.jsx)("div",{className:"d-flex",children:(0,P.jsx)("button",{className:"btn btn-outline-success btn-lg m-2",children:"Obsolete"})}),p&&(0,P.jsx)("div",{className:"mt-2",children:(0,P.jsx)(A,{editableColumns:["Print On Purchase Order Required","Print On Work Order Required","Work Order Document Required","Print On report Order Required","SAP/JDE"],selectedRows:n,onApplyUpdate:(e,o,t)=>{a("selected"===t?n:r,e,o)},valueOptions:["Yes","No"],onClose:()=>m(!1)})})]})},f=()=>{var e,o,t,n,a,i,v,C;const{initializeDroppableArea:h,loading:E}=_(),[S,A]=(0,s.useState)(0),[f,b]=(0,s.useState)([]),[D,w]=(0,s.useState)(!1),[I,T]=(0,s.useState)(!1),[L,N]=(0,s.useState)(!1),[x,j]=(0,s.useState)([]),y=(0,r.wA)(),{showSuccessToast:M,showErrorToast:F}=(0,R.A)(),W=(0,r.d4)((e=>e.droppedObject.droppedObjectData)),U=(0,r.d4)((e=>e.droppedObject.loadingParentDetails)),k=(0,r.d4)((e=>e.droppedObject.isDropped)),V=(0,r.d4)((e=>e.droppedObject.selectedTableRows)),B=null===(e=W.initialDraggedData)||void 0===e||null===(o=e.data)||void 0===o||null===(t=o.items[0])||void 0===t?void 0:t.objectType,H=null===(n=W.cardData)||void 0===n?void 0:n["Maturity State"];(0,s.useEffect)((()=>{w(U)}),[U]);const G=(0,s.useMemo)((()=>[{Header:"ID",accessor:"id"},{Header:"Name",accessor:"name"},{Header:"Type",accessor:"type"},{Header:"Modified",accessor:"modified"},{Header:"Created",accessor:"created"}]),[]);(0,s.useEffect)((()=>{k&&(async()=>{w(!0);const e="".concat({ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\spoorthi.m\\AppData\\Roaming",BABEL_ENV:"production",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_11796_BJRVVEFXOAMUWLOY",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"IBLW5CD33090SV",ComSpec:"C:\\Windows\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\Windows\\notepad.exe",EFC_20908:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",HOME:"C:\\Users\\spoorthi.m",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\spoorthi.m",INIT_CWD:"C:\\PLM\\rev-float-backup (2)\\rev-float-backup\\rev-float-backup",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\spoorthi.m\\AppData\\Local",LOGONSERVER:"\\\\IBLW5CD33090SV",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_PATH:"",npm_command:"run-script",npm_config_cache:"C:\\Users\\spoorthi.m\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\spoorthi.m\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\spoorthi.m\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\spoorthi.m\\.npm-init.js",npm_config_local_prefix:"C:\\PLM\\rev-float-backup (2)\\rev-float-backup\\rev-float-backup",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\spoorthi.m\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\spoorthi.m\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v23.9.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build:Obsolescence-attribute",npm_lifecycle_script:"cross-env WIDGET_ENTRY=ObsolescenceAttribute react-app-rewired build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\PLM\\rev-float-backup (2)\\rev-float-backup\\rev-float-backup\\package.json",npm_package_name:"react-widget-template",npm_package_version:"0.1.0",NUMBER_OF_PROCESSORS:"12",OneDrive:"C:\\Users\\spoorthi.m\\OneDrive - SLK SOFTWARE PRIVATE LIMITED",OneDriveCommercial:"C:\\Users\\spoorthi.m\\OneDrive - SLK SOFTWARE PRIVATE LIMITED",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\PLM\\rev-float-backup (2)\\rev-float-backup\\rev-float-backup\\node_modules\\.bin;C:\\PLM\\rev-float-backup (2)\\rev-float-backup\\node_modules\\.bin;C:\\PLM\\rev-float-backup (2)\\node_modules\\.bin;C:\\PLM\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\WindowsPowerShell\\Scripts;C:\\Program Files\\nodejs\\;C:\\Program Files\\Microsoft VS Code\\bin;C:\\Users\\spoorthi.m\\AppData\\Local\\Microsoft\\WindowsApps",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 154 Stepping 4, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9a04",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\spoorthi.m\\OneDrive - SLK SOFTWARE PRIVATE LIMITED\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",QIP11796:"0",QIP20908:"0",REACT_APP_CARD_OWNER_DETAILS_URL_BASE:"https://oi000186152-us1-space.3dexperience.3ds.com/enovia/resources/v1/modeler/documents",REACT_APP_CSRF_URL:"https://oi000186152-us1-space.3dexperience.3ds.com/enovia/resources/v1/application/CSRF?tenant=OI000186152",REACT_APP_ENOVIA_BASE_URL:"https://oi000186152-us1-space.3dexperience.3ds.com/enovia",REACT_APP_NODE_URL_BASE:"https://emr-product-datahub-server-qa.azurewebsites.net",REACT_APP_OBJECT_URL_BASE:"https://saasimplementationserverdev.azurewebsites.net/revFloat/getDroppedObjectDetails",REACT_APP_PARENT_URL:"https://oi000186152-us1-space.3dexperience.3ds.com/enovia/resources/v1/modeler/dseng/dseng:EngItem/locate",REACT_APP_REVISION_URL:"https://oi000186152-us1-space.3dexperience.3ds.com/enovia/resources/v1/modeler/dslc/version/getGraph",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\spoorthi.m\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.99.3",TMP:"C:\\Users\\spoorthi.m\\AppData\\Local\\Temp",USERDNSDOMAIN:"SLKSOFTWARE.AD",USERDOMAIN:"SLKSOFTWARE",USERDOMAIN_ROAMINGPROFILE:"SLKSOFTWARE",USERNAME:"spoorthi.m",USERPROFILE:"C:\\Users\\spoorthi.m",VSCODE_INJECTION:"1",WIDGET_ENTRY:"ObsolescenceAttribute",windir:"C:\\Windows"}.REACT_APP_3DSPACE,"/enovia/resources/v1/modeler/dseng/dseng:EngItem/locate/"),o={referencedObjects:[{source:"".concat({ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\spoorthi.m\\AppData\\Roaming",BABEL_ENV:"production",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_11796_BJRVVEFXOAMUWLOY",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"IBLW5CD33090SV",ComSpec:"C:\\Windows\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\Windows\\notepad.exe",EFC_20908:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",HOME:"C:\\Users\\spoorthi.m",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\spoorthi.m",INIT_CWD:"C:\\PLM\\rev-float-backup (2)\\rev-float-backup\\rev-float-backup",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\spoorthi.m\\AppData\\Local",LOGONSERVER:"\\\\IBLW5CD33090SV",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_PATH:"",npm_command:"run-script",npm_config_cache:"C:\\Users\\spoorthi.m\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\spoorthi.m\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\spoorthi.m\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\spoorthi.m\\.npm-init.js",npm_config_local_prefix:"C:\\PLM\\rev-float-backup (2)\\rev-float-backup\\rev-float-backup",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\spoorthi.m\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\spoorthi.m\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v23.9.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build:Obsolescence-attribute",npm_lifecycle_script:"cross-env WIDGET_ENTRY=ObsolescenceAttribute react-app-rewired build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\PLM\\rev-float-backup (2)\\rev-float-backup\\rev-float-backup\\package.json",npm_package_name:"react-widget-template",npm_package_version:"0.1.0",NUMBER_OF_PROCESSORS:"12",OneDrive:"C:\\Users\\spoorthi.m\\OneDrive - SLK SOFTWARE PRIVATE LIMITED",OneDriveCommercial:"C:\\Users\\spoorthi.m\\OneDrive - SLK SOFTWARE PRIVATE LIMITED",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\PLM\\rev-float-backup (2)\\rev-float-backup\\rev-float-backup\\node_modules\\.bin;C:\\PLM\\rev-float-backup (2)\\rev-float-backup\\node_modules\\.bin;C:\\PLM\\rev-float-backup (2)\\node_modules\\.bin;C:\\PLM\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\WindowsPowerShell\\Scripts;C:\\Program Files\\nodejs\\;C:\\Program Files\\Microsoft VS Code\\bin;C:\\Users\\spoorthi.m\\AppData\\Local\\Microsoft\\WindowsApps",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 154 Stepping 4, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9a04",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\spoorthi.m\\OneDrive - SLK SOFTWARE PRIVATE LIMITED\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",QIP11796:"0",QIP20908:"0",REACT_APP_CARD_OWNER_DETAILS_URL_BASE:"https://oi000186152-us1-space.3dexperience.3ds.com/enovia/resources/v1/modeler/documents",REACT_APP_CSRF_URL:"https://oi000186152-us1-space.3dexperience.3ds.com/enovia/resources/v1/application/CSRF?tenant=OI000186152",REACT_APP_ENOVIA_BASE_URL:"https://oi000186152-us1-space.3dexperience.3ds.com/enovia",REACT_APP_NODE_URL_BASE:"https://emr-product-datahub-server-qa.azurewebsites.net",REACT_APP_OBJECT_URL_BASE:"https://saasimplementationserverdev.azurewebsites.net/revFloat/getDroppedObjectDetails",REACT_APP_PARENT_URL:"https://oi000186152-us1-space.3dexperience.3ds.com/enovia/resources/v1/modeler/dseng/dseng:EngItem/locate",REACT_APP_REVISION_URL:"https://oi000186152-us1-space.3dexperience.3ds.com/enovia/resources/v1/modeler/dslc/version/getGraph",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\spoorthi.m\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.99.3",TMP:"C:\\Users\\spoorthi.m\\AppData\\Local\\Temp",USERDNSDOMAIN:"SLKSOFTWARE.AD",USERDOMAIN:"SLKSOFTWARE",USERDOMAIN_ROAMINGPROFILE:"SLKSOFTWARE",USERNAME:"spoorthi.m",USERPROFILE:"C:\\Users\\spoorthi.m",VSCODE_INJECTION:"1",WIDGET_ENTRY:"ObsolescenceAttribute",windir:"C:\\Windows"}.REACT_APP_3DSPACE,"/enovia"),type:"dseng:EngItem",identifier:"7D56FB4BE1D72000683006B8000035C5",relativePath:"/resources/v1/modeler/dseng/dseng:EngItem/7D56FB4BE1D72000683006B8000035C5"}]};try{var t,s,n;const r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",SecurityContext:"VPLMProjectAdministrator.BU-0000001.Rosemount Measurement",ENO_CSRF_TOKEN:"QMF8-WHQB-FW5H-K4JL-UCAI-TC8T-1TKW-NH5K"},body:JSON.stringify(o)});if(!r.ok)throw new Error("API fetch failed");const a=((null===(t=(await r.json()).member)||void 0===t||null===(s=t[0])||void 0===s||null===(n=s["dseng:EngInstance"])||void 0===n?void 0:n.member)||[]).map((e=>({id:e.id,name:e.name,type:e.type,modified:e.modified,created:e.created,changedCells:{}})));b(a),w(!1)}catch(r){console.error("Error fetching API data:",r),b([]),w(!1)}})()}),[k]);const q=(0,s.useMemo)((()=>W?(0,l.A)({},W.cardData):null),[W]);return(0,s.useEffect)((()=>{N(!!q)}),[q]),(0,P.jsxs)(P.Fragment,{children:[I&&(0,P.jsxs)("div",{className:"loading-overlay",children:[(0,P.jsx)(p.A,{}),(0,P.jsx)("p",{children:"Saving..."})]}),!k&&!E&&!D&&(0,P.jsx)(d.A,{}),E&&(0,P.jsx)(p.A,{}),k&&(0,P.jsxs)(P.Fragment,{children:[E&&(0,P.jsx)(p.A,{}),(0,P.jsx)("div",{className:"content-wrapper py-3 border-bottom",children:(0,P.jsxs)("div",{className:"d-flex ",children:[(0,P.jsx)("div",{className:" p-0 pt-4",children:(0,P.jsx)(c.A,{src:"https://thewhitechamaleon.github.io/testrapp/images/home.png",alt:"home-icon",className:"home-icon",onClick:()=>{h(),y((0,g.Rr)(!1)),y((0,g.um)({cardData:{},parentDetails:[],versions:[],initialDraggedData:[]})),y((0,g.Lq)({allPlants:[],initialAssignedPlants:[],uniquePlants:[],productChildren:[],CAName:!1,headers:{}})),b([]),N(!1)}})}),q&&(0,P.jsx)(u.A,{data:q,widgetType:"ObsolescenceWidget"})]})}),D?(0,P.jsx)("div",{className:"loading-indicator mt-5",children:(0,P.jsx)(p.A,{})}):(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)("div",{className:"wrapper-cta",children:[(0,P.jsx)(O,{onSave:async()=>{T(!0),console.log("Saving data:",f),T(!1),M("Data saved successfully!")},type:B,latestRevision:null===W||void 0===W||null===(a=W.cardData)||void 0===a?void 0:a["Latest Revision"],droppedRevision:null===W||void 0===W||null===(i=W.cardData)||void 0===i?void 0:i["Dropped Revision"],selectedRows:V,state:H,tableData:x,onMassUpdate:(e,o,t)=>{const s=e.map((e=>(0,l.A)((0,l.A)({},e),{},{[o]:t}))),n=f.map((e=>s.find((o=>o.id===e.id))||e));b(n)}}),(0,P.jsx)(m.A,{data:f,columns:G,meta:{updateTableData:b},type:B,latestRevision:null===W||void 0===W||null===(v=W.cardData)||void 0===v?void 0:v["Latest Revision"],droppedRevision:null===W||void 0===W||null===(C=W.cardData)||void 0===C?void 0:C["Dropped Revision"],widgetType:"Obsolescence_Attribute_Widget",onSelectableRowsChange:j},S)]})})]})]})};var b=t(174);const D=()=>{const{handleDrop:e}=_(),{showSuccessToast:o,showErrorToast:t}=(0,R.A)(),[n,r]=(0,s.useState)(!1);console.log("---[WidgetLifecycle]--- starts");return(0,s.useEffect)((()=>{if(!window.widget)return;console.trace("[WidgetLifecycle] \ud83d\udd04 `onRefresh` was called from:"),window.widget.addEvent("onRefresh",(async()=>{var s,n;const i=(new Error).stack.split("\n"),l=sessionStorage.getItem("userClickedRefresh");if((e=>e.some((e=>e.includes("UWA_Frame_Alone.js")||e.includes("bundle-min.js"))))(i)&&!l)return void console.warn("[WidgetLifecycle] \u26d4 Auto-refresh detected. Ignoring unwanted `onRefresh`.");sessionStorage.removeItem("userClickedRefresh"),r(!0);const d=a.A.getState().droppedObject.droppedObjectData.initialDraggedData;if(null===d||void 0===d||null===(s=d.data)||void 0===s||null===(n=s.items)||void 0===n||!n.length)return console.error("[WidgetLifecycle] \u26a0\ufe0f `initialDraggedData` is missing or invalid:",d),void r(!1);try{await(0,b.M)(d.data.items,e)}catch(c){console.error("[WidgetLifecycle] \u274c Error during refresh:",c),t(v.H6)}finally{r(!1),o(v._l)}}))}),[]),n?(0,P.jsx)(p.A,{}):null};t(8885);let w=null;function I(){if(window.widget){let e=!1;window.widget.addEvent("onLoad",(()=>{e?console.warn("[index.js] \u23f3 onLoad was already executed. Ignoring duplicate trigger."):(e=!0,function(){var e,o;requirejs(["DS/PlatformAPI/PlatformAPI"],(e=>{window.PlatformAPI=e}));let t=(null===(e=window.widget)||void 0===e||null===(o=e.body)||void 0===o?void 0:o.querySelector("#root"))||document.getElementById("root");t||(t=document.createElement("div"),t.id="root",window.widget&&window.widget.body?window.widget.body.appendChild(t):document.body.appendChild(t)),w||(w=n.createRoot(t)),w.render((0,P.jsxs)(r.Kq,{store:a.A,children:[(0,P.jsx)(D,{}),(0,P.jsx)(f,{}),(0,P.jsx)(i.N9,{})]}))}())}))}else console.error("[index.js] \u274c Widget not detected! onLoad cannot be registered.")}!function(){if(window.parent&&window.parent.document){let e=window.parent.document.createElement("script");e.textContent='\n    function listenForRefreshClicks() {\n      // console.log("\ud83c\udf0d [Parent] Listening for manual refresh clicks...");\n\n      document.body.addEventListener("click", function (event) {\n        let refreshButton = event.target.closest("#refresh"); // Check if refresh was clicked\n\n        if (refreshButton) {\n          // console.log("\u2705 [Parent] User clicked Refresh!");\n          sessionStorage.setItem("userClickedRefresh", "true"); // Store flag\n          // console.log("Stored Flag:", sessionStorage.getItem("userClickedRefresh"));\n        }\n      }, true);\n    }\n\n    // \u2705 Ensure event listener is added even if DOM is already loaded\n    if (document.readyState === "loading") {\n      document.addEventListener("DOMContentLoaded", listenForRefreshClicks);\n    } else {\n      listenForRefreshClicks();\n    }\n  ',window.parent.document.body.appendChild(e)}else console.warn("\u26a0\ufe0f [index.js] Unable to inject script\u2014parent window not accessible.")}()}}]);
//# sourceMappingURL=999.39f72d59.chunk.js.map